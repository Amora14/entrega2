<div class="container">
    
    <table class="tabela">
        <h3>Listagem de apartamentos</h3>
        <thead id="head_tabela">
            <tr>
                <th class="thnmr">NÃºmero</th>
                <th>Status</th>
                <th>Data de Entrada</th>
                <th class="direita">
                    <button type="button" class="btn btn-info" data-mdb-ripple-init routerLink="/admin/apartamento/new" title="Adicionar novo apartamento"><i class="fas fa-house-flag"></i></button>
                </th>
            </tr>
        </thead>

        <tbody id="body_tabela">
            @for (apartamento of lista; track $index) {

            <tr>
                <td class="tdnmr"><b>{{apartamento.aparnum}}</b></td>
                @if (apartamento.status == 'Livre') {
                <td class="tdstatus">
                    <p class="statusL">{{apartamento.status}}</p>
                </td>
                }@else{
                <td class="tdstatus">
                    <p class="statusO">{{apartamento.status}}</p>
                </td>
                }
                <td>
                    @if (getClienteByAparnum(apartamento.aparnum)?.contratos; as contratos) {
                      @for (contrato of contratos; track $index) {
                        <b>{{formatDate(contrato.entrada)}}</b>
                      }
                    }
                  </td>
                <td class="direita">
                    <!--<button type="button" class="btn btn-info" data-mdb-ripple-init routerLink="/admin/apartamento/edit/{{apartamento.aparnum}}">Editar</button> -->
                    <button type="button" class="btn btn-danger" data-mdb-ripple-init (click)="deletar(apartamento)" title="Deletar apartamento"><i class="fas fa-trash-alt"></i></button>
                </td>
            </tr>
            }
        </tbody>
    </table>
</div>